<script>
  var map = L.map('map').setView([-2.5, 118], 5);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  fetch("PPKT.geojson")
    .then(res => {
      if (!res.ok) throw new Error("File GeoJSON tidak ditemukan");
      return res.json();
    })
    .then(data => {
      console.log("GeoJSON loaded", data);

      var layer = L.geoJSON(data, {
        style: {
          color: "#e63946",
          weight: 2,
          fillOpacity: 0.5
        },
        onEachFeature: function (feature, layer) {
          if (feature.properties) {
            let popup = "";
            for (let key in feature.properties) {
              popup += `<b>${key}</b>: ${feature.properties[key]}<br>`;
            }
            layer.bindPopup(popup);
          }
        }
      }).addTo(map);

      map.fitBounds(layer.getBounds());
    })
    .catch(err => {
      console.error(err);
      alert("GeoJSON gagal dimuat. Cek nama file.");
    });
</script>
